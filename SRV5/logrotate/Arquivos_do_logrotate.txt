Configuração de Políticas de Logrotate(SRV5)

Diretório dos arquivos: /etc/logrotate.d
Criar arquivos abaixo:

nano /etc/logrotate.d/auth-central

/var/log/hosts/*/auth.log {
    daily
    rotate 14
    missingok
    notifempty
    compress
    delaycompress

    create 0640 root adm
    sharedscripts

    postrotate
        systemctl reload rsyslog >/dev/null 2>&1 || true
    endscript
}
--------------------------

nano /etc/logrotate.d/erros-central

/var/log/servicos/erros.log {
    weekly
    rotate 8
    missingok
    notifempty
    compress
    delaycompress

    create 0640 root adm
}
----------------------------

nano /etc/logrotate.d/firewall-central

/var/log/hosts/*/iptables.log {
    size 50M
    rotate 10
    missingok
    notifempty
    compress
    delaycompress

    create 0640 root adm
}
-------------------------------

nano /etc/logrotate.d/hosts-central

/var/log/hosts/*/*.log {
    weekly
    rotate 6
    missingok
    notifempty
    compress
    delaycompress

    create 0640 root adm
    sharedscripts

    postrotate
        systemctl reload rsyslog >/dev/null 2>&1 || true
    endscript
}
--------------------------------

nano /etc/logrotate.d/mail-central

/var/log/servicos/mail.log {
    daily
    rotate 30
    missingok
    notifempty
    compress
    delaycompress

    create 0640 root adm
}
-------------------------------

nano /etc/logrotate.d/system-central

/var/log/syslog {
    weekly
    rotate 4
    missingok
    notifempty
    compress
    delaycompress

    create 0640 root adm
}
